# Localization Approch

Developer team of Starlight River has decided to not adopt built-in translations, instead translators should use patch mods.  
Hence the translations are put here instead of in a fork repo from SLR. 

# Localization Guide

## Replaceing Strings

'''
Wait...this section is talking about tModLoader for Terraria 1.4.4.  
Now we only do text-wise translations, so sad.  
Localization package can be made when SLR has its demo done.  
'''

### For auto-retrieved localization entries

The translations are generated by mod `_ReplaceString_`, stored in `.hjson` files. The `en-US` one contains localization entries which tModLoader will automatically read, cache and retrieve them for existing `ModType`s' `LocalizedText` properties, like `DisplayName` and `Tooltip` in `ModItems`.  
So we edit the `zh-Hans` one with reference to the `en-US` file.  

### For modder-added localization entries

Currently these entries can also be found in the `en-US` file, but subject to changes of tModLoader and `_ReplaceString_`. 

### For hard-coded strings

Sometimes modders simply write texts to be displayed in their codes and shitting on translators.  
As our counter attack, here we have catagory `ldstr` to edit those strings (texts). It can be found in the `.hjson` file with no langauge code suffixed. 

Warning: Make sure you know what you are doing when ldstr editing as that may crash the mod. 

## Collaboration

### Git & GitHub

STFW and RTFM

### Avoiding conflicts

Before start translating a certain part of the texts, always inform others so we don't edit the same piece of text at the same time.  
There is a `#plans` channel for you to do this. State which part you are going to translate and pin that message. 

Mod-specific translation discussions should also be done in `#zh-translation-discussion` under the mod's channel. 

If you feel like there will be a long debate on a topic, for example if no one could agree with other's translation of an item, create a thread to continue your arguments instead of spaming the main thread. 

## Verification

### Before translation

When you see a word in an `.hjson` file, an image comes to your mind about what is the thing the text is refering to. However your interpretation of that object may not be accurate, especially when the word is coined.  
That's why links to the mods' GitHub repositories (if available) and `.tmod` files are provided. View an item's sprite or code when you are not sure about what it is. To find out how things work without investigating the source code, place the `.tmod` files in your tModLoader's `Mods` folder and play it, look at their in-game performance. 

### After translation

> An error occurred...

Please, please test your translations if you are making a localization package or adding them directly into the mod. This is crucial. 

Apply your translations, start the game, enter a world and see whether they work or not. 

If an exception occurs and you are not able to solve it, ask about it. 
